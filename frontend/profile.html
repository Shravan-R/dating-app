<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Profile Settings - Dating App</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
      min-height: 100vh;
    }
    .form-control:focus, .form-select:focus, textarea:focus {
      background: #2a2a3e !important;
      border-color: #ff6b9d !important;
      color: white !important;
      box-shadow: 0 0 0 0.2rem rgba(255, 107, 157, 0.25) !important;
    }
    .profile-image-preview {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      object-fit: cover;
      border: 3px solid #ff6b9d;
    }
  </style>
</head>
<body>
  <nav class="navbar navbar-dark" style="background: rgba(30, 30, 46, 0.8); backdrop-filter: blur(10px);">
    <div class="container-fluid">
      <a href="discover.html" class="navbar-brand" style="color: #ff6b9d;">
        <i class="fas fa-arrow-left me-2"></i>
        <span>Profile Settings</span>
      </a>
      <div>
        <a href="discover.html" class="btn btn-sm me-2" style="background: rgba(255, 107, 157, 0.2); border: 1px solid #ff6b9d; color: #ff6b9d;">
          <i class="fas fa-search"></i> Discover
        </a>
        <a href="matches.html" class="btn btn-sm" style="background: rgba(255, 107, 157, 0.2); border: 1px solid #ff6b9d; color: #ff6b9d;">
          <i class="fas fa-users"></i> Matches
        </a>
      </div>
    </div>
  </nav>

  <div class="container mt-4 pb-5">
    <div class="row justify-content-center">
      <div class="col-12 col-md-8 col-lg-6">
        <div class="card shadow-lg border-0" style="background: #1e1e2e; border-radius: 20px;">
          <div class="card-body p-4">
            <h3 class="text-white text-center mb-4 fw-bold">
              <i class="fas fa-user-edit me-2" style="color: #ff6b9d;"></i>Edit Profile
            </h3>

            <div id="alertContainer"></div>

            <form id="profileForm" onsubmit="event.preventDefault(); saveProfile();">
              <!-- Profile Image -->
              <div class="text-center mb-4">
                <img id="imagePreview" src="" alt="Profile" class="profile-image-preview d-none mb-3" style="display: none !important;">
                <div id="imagePlaceholder" class="profile-image-preview mx-auto mb-3 d-flex align-items-center justify-content-center" style="background: linear-gradient(135deg, #ff6b9d 0%, #c44569 100%); color: white; font-size: 48px; font-weight: bold;">
                  <i class="fas fa-user"></i>
                </div>
                <input type="url" id="image_url" class="form-control" placeholder="Image URL (optional)" style="background: #2a2a3e; border: 1px solid #3a3a4e; color: white; border-radius: 10px;">
                <small class="text-muted">Enter a URL for your profile image</small>
              </div>

              <!-- Username -->
              <div class="mb-3">
                <label class="form-label text-white-50 small mb-2">
                  <i class="fas fa-at me-1"></i> Username
                </label>
                <input type="text" id="username" class="form-control form-control-lg" placeholder="Choose a username" style="background: #2a2a3e; border: 1px solid #3a3a4e; color: white; border-radius: 10px; padding: 12px 15px;">
              </div>

              <!-- Bio -->
              <div class="mb-3">
                <label class="form-label text-white-50 small mb-2">
                  <i class="fas fa-info-circle me-1"></i> Bio
                </label>
                <textarea id="bio" class="form-control" rows="4" placeholder="Tell us about yourself..." style="background: #2a2a3e; border: 1px solid #3a3a4e; color: white; border-radius: 10px; padding: 12px 15px;"></textarea>
              </div>

              <!-- Location -->
              <div class="mb-3">
                <label class="form-label text-white-50 small mb-2">
                  <i class="fas fa-map-marker-alt me-1"></i> Location
                </label>
                <input type="text" id="location" class="form-control form-control-lg" placeholder="City, Country" style="background: #2a2a3e; border: 1px solid #3a3a4e; color: white; border-radius: 10px; padding: 12px 15px;">
              </div>

              <!-- Hobbies -->
              <div class="mb-3">
                <label class="form-label text-white-50 small mb-2">
                  <i class="fas fa-heart me-1"></i> Hobbies
                </label>
                <input type="text" id="hobbies" class="form-control form-control-lg" placeholder="e.g., Reading, Traveling, Photography" style="background: #2a2a3e; border: 1px solid #3a3a4e; color: white; border-radius: 10px; padding: 12px 15px;">
                <small class="text-muted">Separate hobbies with commas</small>
              </div>

              <!-- Interests -->
              <div class="mb-4">
                <label class="form-label text-white-50 small mb-2">
                  <i class="fas fa-star me-1"></i> Interests
                </label>
                <textarea id="interests" class="form-control" rows="3" placeholder="What are you interested in?" style="background: #2a2a3e; border: 1px solid #3a3a4e; color: white; border-radius: 10px; padding: 12px 15px;"></textarea>
              </div>

              <button type="submit" id="saveBtn" class="btn btn-primary w-100 btn-lg fw-bold" style="background: linear-gradient(135deg, #ff6b9d 0%, #c44569 100%); border: none; border-radius: 10px; padding: 12px;">
                <span id="saveBtnText">
                  <i class="fas fa-save me-2"></i>Save Profile
                </span>
                <span id="saveBtnSpinner" class="spinner-border spinner-border-sm d-none" role="status"></span>
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="js/profile.js"></script>
</body>
</html>
